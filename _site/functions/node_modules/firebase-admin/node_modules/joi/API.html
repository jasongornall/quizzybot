<!-- version -->
<h1 id="6101-api-reference">6.10.1 API Reference</h1>
<!-- versionstop -->

<p><img src="https://raw.github.com/hapijs/joi/master/images/validation.png" align="right" /></p>

<!-- toc -->

<ul>
  <li><a href="#joi">Joi</a>
    <ul>
      <li><a href="#validatevalue-schema-options-callback"><code class="highlighter-rouge">validate(value, schema, [options], [callback])</code></a></li>
      <li><a href="#compileschema"><code class="highlighter-rouge">compile(schema)</code></a></li>
      <li><a href="#assertvalue-schema-message"><code class="highlighter-rouge">assert(value, schema, [message])</code></a></li>
      <li><a href="#attemptvalue-schema-message"><code class="highlighter-rouge">attempt(value, schema, [message])</code></a></li>
      <li><a href="#isrefref"><code class="highlighter-rouge">isRef(ref)</code></a></li>
      <li><a href="#any"><code class="highlighter-rouge">any</code></a>
        <ul>
          <li><a href="#anyallowvalue"><code class="highlighter-rouge">any.allow(value)</code></a></li>
          <li><a href="#anyvalidvalue---aliases-only-equal"><code class="highlighter-rouge">any.valid(value)</code> - aliases: <code class="highlighter-rouge">only</code>, <code class="highlighter-rouge">equal</code></a></li>
          <li><a href="#anyinvalidvalue---aliases-disallow-not"><code class="highlighter-rouge">any.invalid(value)</code> - aliases: <code class="highlighter-rouge">disallow</code>, <code class="highlighter-rouge">not</code></a></li>
          <li><a href="#anyrequired"><code class="highlighter-rouge">any.required()</code></a></li>
          <li><a href="#anyoptional"><code class="highlighter-rouge">any.optional()</code></a></li>
          <li><a href="#anyforbidden"><code class="highlighter-rouge">any.forbidden()</code></a></li>
          <li><a href="#anystrip"><code class="highlighter-rouge">any.strip()</code></a></li>
          <li><a href="#anydescriptiondesc"><code class="highlighter-rouge">any.description(desc)</code></a></li>
          <li><a href="#anynotesnotes"><code class="highlighter-rouge">any.notes(notes)</code></a></li>
          <li><a href="#anytagstags"><code class="highlighter-rouge">any.tags(tags)</code></a></li>
          <li><a href="#anymetameta"><code class="highlighter-rouge">any.meta(meta)</code></a></li>
          <li><a href="#anyexamplevalue"><code class="highlighter-rouge">any.example(value)</code></a></li>
          <li><a href="#anyunitname"><code class="highlighter-rouge">any.unit(name)</code></a></li>
          <li><a href="#anyoptionsoptions"><code class="highlighter-rouge">any.options(options)</code></a></li>
          <li><a href="#anystrictisstrict"><code class="highlighter-rouge">any.strict(isStrict)</code></a></li>
          <li><a href="#anydefaultvalue-description"><code class="highlighter-rouge">any.default([value, [description]])</code></a></li>
          <li><a href="#anyconcatschema"><code class="highlighter-rouge">any.concat(schema)</code></a></li>
          <li><a href="#anywhenref-options"><code class="highlighter-rouge">any.when(ref, options)</code></a></li>
          <li><a href="#anylabelname"><code class="highlighter-rouge">any.label(name)</code></a></li>
          <li><a href="#anyrawisraw"><code class="highlighter-rouge">any.raw(isRaw)</code></a></li>
          <li><a href="#anyemptyschema"><code class="highlighter-rouge">any.empty(schema)</code></a></li>
        </ul>
      </li>
      <li><a href="#array"><code class="highlighter-rouge">array</code></a>
        <ul>
          <li><a href="#arraysparseenabled"><code class="highlighter-rouge">array.sparse(enabled)</code></a></li>
          <li><a href="#arraysingleenabled"><code class="highlighter-rouge">array.single(enabled)</code></a></li>
          <li><a href="#arrayitemstype"><code class="highlighter-rouge">array.items(type)</code></a></li>
          <li><a href="#arrayorderedtype"><code class="highlighter-rouge">array.ordered(type)</code></a></li>
          <li><a href="#arrayminlimit"><code class="highlighter-rouge">array.min(limit)</code></a></li>
          <li><a href="#arraymaxlimit"><code class="highlighter-rouge">array.max(limit)</code></a></li>
          <li><a href="#arraylengthlimit"><code class="highlighter-rouge">array.length(limit)</code></a></li>
          <li><a href="#arrayunique"><code class="highlighter-rouge">array.unique()</code></a></li>
        </ul>
      </li>
      <li><a href="#boolean"><code class="highlighter-rouge">boolean</code></a></li>
      <li><a href="#binary"><code class="highlighter-rouge">binary</code></a>
        <ul>
          <li><a href="#binaryencodingencoding"><code class="highlighter-rouge">binary.encoding(encoding)</code></a></li>
          <li><a href="#binaryminlimit"><code class="highlighter-rouge">binary.min(limit)</code></a></li>
          <li><a href="#binarymaxlimit"><code class="highlighter-rouge">binary.max(limit)</code></a></li>
          <li><a href="#binarylengthlimit"><code class="highlighter-rouge">binary.length(limit)</code></a></li>
        </ul>
      </li>
      <li><a href="#date"><code class="highlighter-rouge">date</code></a>
        <ul>
          <li><a href="#datemindate"><code class="highlighter-rouge">date.min(date)</code></a></li>
          <li><a href="#datemaxdate"><code class="highlighter-rouge">date.max(date)</code></a></li>
          <li><a href="#dateformatformat"><code class="highlighter-rouge">date.format(format)</code></a></li>
          <li><a href="#dateiso"><code class="highlighter-rouge">date.iso()</code></a></li>
        </ul>
      </li>
      <li><a href="#func"><code class="highlighter-rouge">func</code></a></li>
      <li><a href="#number"><code class="highlighter-rouge">number</code></a>
        <ul>
          <li><a href="#numberminlimit"><code class="highlighter-rouge">number.min(limit)</code></a></li>
          <li><a href="#numbermaxlimit"><code class="highlighter-rouge">number.max(limit)</code></a></li>
          <li><a href="#numbergreaterlimit"><code class="highlighter-rouge">number.greater(limit)</code></a></li>
          <li><a href="#numberlesslimit"><code class="highlighter-rouge">number.less(limit)</code></a></li>
          <li><a href="#numberinteger"><code class="highlighter-rouge">number.integer()</code></a></li>
          <li><a href="#numberprecisionlimit"><code class="highlighter-rouge">number.precision(limit)</code></a></li>
          <li><a href="#numbermultiplebase"><code class="highlighter-rouge">number.multiple(base)</code></a></li>
          <li><a href="#numberpositive"><code class="highlighter-rouge">number.positive()</code></a></li>
          <li><a href="#numbernegative"><code class="highlighter-rouge">number.negative()</code></a></li>
        </ul>
      </li>
      <li><a href="#object"><code class="highlighter-rouge">object</code></a>
        <ul>
          <li><a href="#objectkeysschema"><code class="highlighter-rouge">object.keys([schema])</code></a>
            <ul>
              <li><a href="#-notation"><code class="highlighter-rouge"><span class="p">{}</span><span class="w"> </span><span class="err">notation</span></code></a></li>
              <li><a href="#joiobjectschema-notation"><code class="highlighter-rouge">Joi.object([schema]) notation</code></a></li>
              <li><a href="#joiobjectkeysschema-notation"><code class="highlighter-rouge">Joi.object().keys([schema]) notation</code></a></li>
            </ul>
          </li>
          <li><a href="#objectminlimit"><code class="highlighter-rouge">object.min(limit)</code></a></li>
          <li><a href="#objectmaxlimit"><code class="highlighter-rouge">object.max(limit)</code></a></li>
          <li><a href="#objectlengthlimit"><code class="highlighter-rouge">object.length(limit)</code></a></li>
          <li><a href="#objectpatternregex-schema"><code class="highlighter-rouge">object.pattern(regex, schema)</code></a></li>
          <li><a href="#objectandpeers"><code class="highlighter-rouge">object.and(peers)</code></a></li>
          <li><a href="#objectnandpeers"><code class="highlighter-rouge">object.nand(peers)</code></a></li>
          <li><a href="#objectorpeers"><code class="highlighter-rouge">object.or(peers)</code></a></li>
          <li><a href="#objectxorpeers"><code class="highlighter-rouge">object.xor(peers)</code></a></li>
          <li><a href="#objectwithkey-peers"><code class="highlighter-rouge">object.with(key, peers)</code></a></li>
          <li><a href="#objectwithoutkey-peers"><code class="highlighter-rouge">object.without(key, peers)</code></a></li>
          <li><a href="#objectrenamefrom-to-options"><code class="highlighter-rouge">object.rename(from, to, [options])</code></a></li>
          <li><a href="#objectassertref-schema-message"><code class="highlighter-rouge">object.assert(ref, schema, [message])</code></a></li>
          <li><a href="#objectunknownallow"><code class="highlighter-rouge">object.unknown([allow])</code></a></li>
          <li><a href="#objecttypeconstructor-name"><code class="highlighter-rouge">object.type(constructor, [name])</code></a></li>
          <li><a href="#objectrequiredkeyschildren"><code class="highlighter-rouge">object.requiredKeys(children)</code></a></li>
          <li><a href="#objectoptionalkeyschildren"><code class="highlighter-rouge">object.optionalKeys(children)</code></a></li>
        </ul>
      </li>
      <li><a href="#string"><code class="highlighter-rouge">string</code></a>
        <ul>
          <li><a href="#stringinsensitive"><code class="highlighter-rouge">string.insensitive()</code></a></li>
          <li><a href="#stringminlimit-encoding"><code class="highlighter-rouge">string.min(limit, [encoding])</code></a></li>
          <li><a href="#stringmaxlimit-encoding"><code class="highlighter-rouge">string.max(limit, [encoding])</code></a></li>
          <li><a href="#stringcreditcard"><code class="highlighter-rouge">string.creditCard()</code></a></li>
          <li><a href="#stringlengthlimit-encoding"><code class="highlighter-rouge">string.length(limit, [encoding])</code></a></li>
          <li><a href="#stringregexpattern-name"><code class="highlighter-rouge">string.regex(pattern, [name])</code></a></li>
          <li><a href="#stringreplacepattern-replacement"><code class="highlighter-rouge">string.replace(pattern, replacement)</code></a></li>
          <li><a href="#stringalphanum"><code class="highlighter-rouge">string.alphanum()</code></a></li>
          <li><a href="#stringtoken"><code class="highlighter-rouge">string.token()</code></a></li>
          <li><a href="#stringemailoptions"><code class="highlighter-rouge">string.email([options])</code></a></li>
          <li><a href="#stringipoptions"><code class="highlighter-rouge">string.ip([options])</code></a></li>
          <li><a href="#stringurioptions"><code class="highlighter-rouge">string.uri([options])</code></a></li>
          <li><a href="#stringguid"><code class="highlighter-rouge">string.guid()</code></a></li>
          <li><a href="#stringhex"><code class="highlighter-rouge">string.hex()</code></a></li>
          <li><a href="#stringhostname"><code class="highlighter-rouge">string.hostname()</code></a></li>
          <li><a href="#stringlowercase"><code class="highlighter-rouge">string.lowercase()</code></a></li>
          <li><a href="#stringuppercase"><code class="highlighter-rouge">string.uppercase()</code></a></li>
          <li><a href="#stringtrim"><code class="highlighter-rouge">string.trim()</code></a></li>
          <li><a href="#stringisodate"><code class="highlighter-rouge">string.isoDate()</code></a></li>
        </ul>
      </li>
      <li><a href="#alternatives"><code class="highlighter-rouge">alternatives</code></a>
        <ul>
          <li><a href="#alternativestryschemas"><code class="highlighter-rouge">alternatives.try(schemas)</code></a></li>
          <li><a href="#alternativeswhenref-options"><code class="highlighter-rouge">alternatives.when(ref, options)</code></a></li>
        </ul>
      </li>
      <li><a href="#refkey-options"><code class="highlighter-rouge">ref(key, [options])</code></a></li>
    </ul>
  </li>
  <li><a href="#errors">Errors</a></li>
</ul>

<!-- tocstop -->

<h2 id="joi">Joi</h2>

<h3 id="validatevalue-schema-options-callback"><code class="highlighter-rouge">validate(value, schema, [options], [callback])</code></h3>

<p>Validates a value using the given schema and options where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the value being validated.</li>
  <li><code class="highlighter-rouge">schema</code> - the validation schema. Can be a <strong>joi</strong> type object or a plain object where every key is assigned a <strong>joi</strong> type object.</li>
  <li><code class="highlighter-rouge">options</code> - an optional object with the following optional keys:
    <ul>
      <li><code class="highlighter-rouge">abortEarly</code> - when <code class="highlighter-rouge">true</code>, stops validation on the first error, otherwise returns all the errors found. Defaults to <code class="highlighter-rouge">true</code>.</li>
      <li><code class="highlighter-rouge">convert</code> - when <code class="highlighter-rouge">true</code>, attempts to cast values to the required types (e.g. a string to a number). Defaults to <code class="highlighter-rouge">true</code>.</li>
      <li><code class="highlighter-rouge">allowUnknown</code> - when <code class="highlighter-rouge">true</code>, allows object to contain unknown keys which are ignored. Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">skipFunctions</code> - when <code class="highlighter-rouge">true</code>, ignores unknown keys with a function value. Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">stripUnknown</code> - when <code class="highlighter-rouge">true</code>, unknown keys are deleted (only when value is an object or an array). Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">language</code> - overrides individual error messages, when <code class="highlighter-rouge">'label'</code> is set, it overrides the key name in the error message. Defaults to no override (<code class="highlighter-rouge"><span class="p">{}</span></code>).</li>
      <li><code class="highlighter-rouge">presence</code> - sets the default presence requirements. Supported modes: <code class="highlighter-rouge">'optional'</code>, <code class="highlighter-rouge">'required'</code>, and <code class="highlighter-rouge">'forbidden'</code>.
Defaults to <code class="highlighter-rouge">'optional'</code>.</li>
      <li><code class="highlighter-rouge">context</code> - provides an external data set to be used in <a href="#refkey-options">references</a>. Can only be set as an external option to
<code class="highlighter-rouge">validate()</code> and not using <code class="highlighter-rouge">any.options()</code>.</li>
      <li><code class="highlighter-rouge">noDefaults</code> - when <code class="highlighter-rouge">true</code>, do not apply default values. Defaults to <code class="highlighter-rouge">false</code>.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">callback</code> - the optional synchronous callback method using the signature <code class="highlighter-rouge">function(err, value)</code> where:
    <ul>
      <li><code class="highlighter-rouge">err</code> - if validation failed, the <a href="#errors">error</a> reason, otherwise <code class="highlighter-rouge">null</code>.</li>
      <li><code class="highlighter-rouge">value</code> - the validated value with any type conversions and other modifiers applied (the input is left unchanged). <code class="highlighter-rouge">value</code> can be
incomplete if validation failed and <code class="highlighter-rouge">abortEarly</code> is <code class="highlighter-rouge">true</code>. If callback is not provided, then returns an object with <a href="#errors">error</a>
and value properties.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="s1">'123'</span>
<span class="p">};</span>

<span class="nx">Joi</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">schema</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
<span class="c1">// err -&gt; null</span>
<span class="c1">// value.a -&gt; 123 (number, not string)</span>

<span class="c1">// or</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">schema</span><span class="p">);</span>
<span class="c1">// result.error -&gt; null</span>
<span class="c1">// result.value -&gt; { "a" : 123 }</span>
</code></pre>
</div>

<h3 id="compileschema"><code class="highlighter-rouge">compile(schema)</code></h3>

<p>Converts literal schema definition to <strong>joi</strong> schema object (or returns the same back if already a <strong>joi</strong> schema object) where:</p>
<ul>
  <li><code class="highlighter-rouge">schema</code> - the schema definition to compile.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">definition</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'key'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">{</span> <span class="na">a</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="p">[</span><span class="sr">/^a/</span><span class="p">,</span> <span class="s1">'boom'</span><span class="p">]</span> <span class="p">}];</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">definition</span><span class="p">);</span>

<span class="c1">// Same as:</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="k">try</span><span class="p">([</span>
    <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'key'</span><span class="p">),</span>
    <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
    <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
        <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
        <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="k">try</span><span class="p">([</span>
            <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^a/</span><span class="p">),</span>
            <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'boom'</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">})</span>
<span class="p">]);</span>
</code></pre>
</div>

<h3 id="assertvalue-schema-message"><code class="highlighter-rouge">assert(value, schema, [message])</code></h3>

<p>Validates a value against a schema and <a href="#errors">throws</a> if validation fails where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the value to validate.</li>
  <li><code class="highlighter-rouge">schema</code> - the schema object.</li>
  <li><code class="highlighter-rouge">message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">Joi</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">());</span>
</code></pre>
</div>

<h3 id="attemptvalue-schema-message"><code class="highlighter-rouge">attempt(value, schema, [message])</code></h3>

<p>Validates a value against a schema, returns valid object, and <a href="#errors">throws</a> if validation fails where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the value to validate.</li>
  <li><code class="highlighter-rouge">schema</code> - the schema object.</li>
  <li><code class="highlighter-rouge">message</code> - optional message string prefix added in front of the error message. may also be an Error object.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">Joi</span><span class="p">.</span><span class="nx">attempt</span><span class="p">(</span><span class="s1">'x'</span><span class="p">,</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">());</span> <span class="c1">// throws error</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">attempt</span><span class="p">(</span><span class="s1">'4'</span><span class="p">,</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">());</span> <span class="c1">// result -&gt; 4</span>
</code></pre>
</div>

<h3 id="isrefref"><code class="highlighter-rouge">isRef(ref)</code></h3>

<p>Checks whether or not the provided argument is a reference.
It’s especially useful if you want to post-process error messages.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'a'</span><span class="p">);</span>
<span class="nx">Joi</span><span class="p">.</span><span class="nx">isRef</span><span class="p">(</span><span class="nx">ref</span><span class="p">);</span> <span class="c1">// returns true</span>
</code></pre>
</div>

<h3 id="any"><code class="highlighter-rouge">any</code></h3>

<p>Generates a schema object that matches any data type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">any</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">();</span>
<span class="nx">any</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="anyallowvalue"><code class="highlighter-rouge">any.allow(value)</code></h4>

<p>Whitelists a value where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.
<code class="highlighter-rouge">value</code> can be an array of values, or multiple values can be passed as individual arguments. <code class="highlighter-rouge">value</code> supports <a href="#refkey-options">references</a>.</li>
</ul>

<p>Note that this whitelist of allowed values is in <em>addition</em> to any other permitted values.
To create an exclusive whitelist of values, see <a href="#anyvalidvalue"><code class="highlighter-rouge">any.valid(value)</code></a>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">allow</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">allow</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">),</span>
    <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">allow</span><span class="p">([</span><span class="s1">'c'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">])</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anyvalidvalue---aliases-only-equal"><code class="highlighter-rouge">any.valid(value)</code> - aliases: <code class="highlighter-rouge">only</code>, <code class="highlighter-rouge">equal</code></h4>

<p>Adds the provided values into the allowed whitelist and marks them as the only valid values allowed where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the allowed value which can be of any type and will be matched against the validated value before applying any other rules.
<code class="highlighter-rouge">value</code> can be an array of values, or multiple values can be passed as individual arguments. <code class="highlighter-rouge">value</code> supports <a href="#refkey-options">references</a>.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">),</span>
    <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">valid</span><span class="p">([</span><span class="s1">'c'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">])</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anyinvalidvalue---aliases-disallow-not"><code class="highlighter-rouge">any.invalid(value)</code> - aliases: <code class="highlighter-rouge">disallow</code>, <code class="highlighter-rouge">not</code></h4>

<p>Blacklists a value where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the forbidden value which can be of any type and will be matched against the validated value before applying any other rules.
<code class="highlighter-rouge">value</code> can be an array of values, or multiple values can be passed as individual arguments. <code class="highlighter-rouge">value</code> supports <a href="#refkey-options">references</a>.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">invalid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">invalid</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">),</span>
    <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">invalid</span><span class="p">([</span><span class="s1">'c'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">])</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anyrequired"><code class="highlighter-rouge">any.required()</code></h4>

<p>Marks a key as required which will not allow <code class="highlighter-rouge">undefined</code> as value. All keys are optional by default.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">required</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="anyoptional"><code class="highlighter-rouge">any.optional()</code></h4>

<p>Marks a key as optional which will allow <code class="highlighter-rouge">undefined</code> as values. Used to annotate the schema for readability as all keys are optional by default.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">optional</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="anyforbidden"><code class="highlighter-rouge">any.forbidden()</code></h4>

<p>Marks a key as forbidden which will not allow any value except <code class="highlighter-rouge">undefined</code>. Used to explicitly forbid keys.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">forbidden</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anystrip"><code class="highlighter-rouge">any.strip()</code></h4>

<p>Marks a key to be removed from a resulting object or array after validation. Used to sanitize output.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
    <span class="na">password</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">strip</span><span class="p">()</span>
<span class="p">};</span>

<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="na">username</span><span class="p">:</span> <span class="s1">'test'</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="s1">'hunter2'</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// value = { username: 'test' }</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">strip</span><span class="p">());</span>

<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">([</span><span class="s1">'one'</span><span class="p">,</span> <span class="s1">'two'</span><span class="p">,</span> <span class="kc">true</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// value = ['one', 'two']</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="anydescriptiondesc"><code class="highlighter-rouge">any.description(desc)</code></h4>

<p>Annotates the key where:</p>
<ul>
  <li><code class="highlighter-rouge">desc</code> - the description string.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">description</span><span class="p">(</span><span class="s1">'this key will match anything you give it'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="anynotesnotes"><code class="highlighter-rouge">any.notes(notes)</code></h4>

<p>Annotates the key where:</p>
<ul>
  <li><code class="highlighter-rouge">notes</code> - the notes string or array of strings.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">notes</span><span class="p">([</span><span class="s1">'this is special'</span><span class="p">,</span> <span class="s1">'this is important'</span><span class="p">]);</span>
</code></pre>
</div>

<h4 id="anytagstags"><code class="highlighter-rouge">any.tags(tags)</code></h4>

<p>Annotates the key where:</p>
<ul>
  <li><code class="highlighter-rouge">tags</code> - the tag string or array of strings.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">tags</span><span class="p">([</span><span class="s1">'api'</span><span class="p">,</span> <span class="s1">'user'</span><span class="p">]);</span>
</code></pre>
</div>

<h4 id="anymetameta"><code class="highlighter-rouge">any.meta(meta)</code></h4>

<p>Attaches metadata to the key where:</p>
<ul>
  <li><code class="highlighter-rouge">meta</code> - the meta object to attach.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">meta</span><span class="p">({</span> <span class="na">index</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="anyexamplevalue"><code class="highlighter-rouge">any.example(value)</code></h4>

<p>Annotates the key where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - an example value.</li>
</ul>

<p>If the example fails to pass validation, the function will throw.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="nx">example</span><span class="p">(</span><span class="s1">'abcd'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="anyunitname"><code class="highlighter-rouge">any.unit(name)</code></h4>

<p>Annotates the key where:</p>
<ul>
  <li><code class="highlighter-rouge">name</code> - the unit name of the value.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">unit</span><span class="p">(</span><span class="s1">'milliseconds'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="anyoptionsoptions"><code class="highlighter-rouge">any.options(options)</code></h4>

<p>Overrides the global <code class="highlighter-rouge">validate()</code> options for the current key and any sub-key where:</p>
<ul>
  <li><code class="highlighter-rouge">options</code> - an object with the same optional keys as <a href="#validatevalue-schema-options-callback"><code class="highlighter-rouge">Joi.validate(value, schema, options, callback)</code></a>.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">options</span><span class="p">({</span> <span class="na">convert</span><span class="p">:</span> <span class="kc">false</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="anystrictisstrict"><code class="highlighter-rouge">any.strict(isStrict)</code></h4>

<p>Strict mode sets the <code class="highlighter-rouge">options.convert</code> options to <code class="highlighter-rouge">false</code> which prevent type casting for the current key and any child keys.</p>
<ul>
  <li><code class="highlighter-rouge">isStrict</code> - whether strict mode is enabled or not. Defaults to true.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">strict</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="anydefaultvalue-description"><code class="highlighter-rouge">any.default([value, [description]])</code></h4>

<p>Sets a default value if the original value is undefined where:</p>
<ul>
  <li><code class="highlighter-rouge">value</code> - the value.
    <ul>
      <li><code class="highlighter-rouge">value</code> supports <a href="#refkey-options">references</a>.</li>
      <li><code class="highlighter-rouge">value</code> may also be a function which returns the default value. If <code class="highlighter-rouge">value</code> is specified as a function that accepts a single parameter, that parameter will be a context object that can be used to derive the resulting value. <strong>This clones the object however, which incurs some overhead so if you don’t need access to the context define your method so that it does not accept any parameters</strong>.</li>
      <li>without any <code class="highlighter-rouge">value</code>, <code class="highlighter-rouge">default</code> has no effect, except for <code class="highlighter-rouge">object</code> that will then create nested defaults (applying inner defaults of that object).</li>
    </ul>
  </li>
</ul>

<p>Note that if <code class="highlighter-rouge">value</code> is an object, any changes to the object after <code class="highlighter-rouge">default()</code> is called will change the reference
and any future assignment.</p>

<p>Additionally, when specifying a method you must either have a <code class="highlighter-rouge">description</code> property on your method or the second parameter is required.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">generateUsername</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">return</span> <span class="nx">context</span><span class="p">.</span><span class="nx">firstname</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'-'</span> <span class="o">+</span> <span class="nx">context</span><span class="p">.</span><span class="nx">lastname</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
<span class="p">};</span>
<span class="nx">generateUsername</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="s1">'generated username'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">username</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="k">default</span><span class="p">(</span><span class="nx">generateUsername</span><span class="p">),</span>
    <span class="na">firstname</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
    <span class="na">lastname</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
    <span class="na">created</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="k">default</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">,</span> <span class="s1">'time of creation'</span><span class="p">),</span>
    <span class="na">status</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="k">default</span><span class="p">(</span><span class="s1">'registered'</span><span class="p">)</span>
<span class="p">};</span>

<span class="nx">Joi</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span>
    <span class="na">firstname</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
    <span class="na">lastname</span><span class="p">:</span> <span class="s1">'Doe'</span>
<span class="p">},</span> <span class="nx">schema</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// value.status === 'registered'</span>
    <span class="c1">// value.username === 'jane-doe'</span>
    <span class="c1">// value.created will be the time of validation</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="anyconcatschema"><code class="highlighter-rouge">any.concat(schema)</code></h4>

<p>Returns a new type that is the result of adding the rules of one type to another where:</p>
<ul>
  <li><code class="highlighter-rouge">schema</code> - a <strong>joi</strong> type to merge into the current schema. Can only be of the same type as the context type or <code class="highlighter-rouge">any</code>. If applied to an <code class="highlighter-rouge">any</code> type, the schema can be any other schema.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'b'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ab</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="anywhenref-options"><code class="highlighter-rouge">any.when(ref, options)</code></h4>

<p>Converts the type into an <a href="#alternatives"><code class="highlighter-rouge">alternatives</code></a> type where the conditions are merged into the type definition where:</p>
<ul>
  <li><code class="highlighter-rouge">ref</code> - the key name or <a href="#refkey-options">reference</a>.</li>
  <li><code class="highlighter-rouge">options</code> - an object with:
    <ul>
      <li><code class="highlighter-rouge">is</code> - the required condition <strong>joi</strong> type.</li>
      <li><code class="highlighter-rouge">then</code> - the alternative schema type if the condition is true. Required if <code class="highlighter-rouge">otherwise</code> is missing.</li>
      <li><code class="highlighter-rouge">otherwise</code> - the alternative schema type if the condition is false. Required if <code class="highlighter-rouge">then</code> is missing.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'x'</span><span class="p">).</span><span class="nx">when</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">is</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="na">then</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'y'</span><span class="p">),</span> <span class="na">otherwise</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'z'</span><span class="p">)</span> <span class="p">}),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<p>Alternatively, if you want to specify a specific type such as <code class="highlighter-rouge">string</code>, <code class="highlighter-rouge">array</code>, etc, you can do so like this:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'other'</span><span class="p">),</span>
    <span class="na">other</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="p">{</span> <span class="na">is</span><span class="p">:</span> <span class="s1">'other'</span><span class="p">,</span> <span class="na">then</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">required</span><span class="p">()</span> <span class="p">}),</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anylabelname"><code class="highlighter-rouge">any.label(name)</code></h4>

<p>Overrides the key name in error messages.</p>
<ul>
  <li><code class="highlighter-rouge">name</code> - the name of the key.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">first_name</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">label</span><span class="p">(</span><span class="s1">'First Name'</span><span class="p">)</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anyrawisraw"><code class="highlighter-rouge">any.raw(isRaw)</code></h4>

<p>Outputs the original untouched value instead of the casted value.</p>
<ul>
  <li><code class="highlighter-rouge">isRaw</code> - whether to enable raw mode or not. Defaults to true.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYYMMDD'</span><span class="p">).</span><span class="nx">raw</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="anyemptyschema"><code class="highlighter-rouge">any.empty(schema)</code></h4>

<p>Considers anything that matches the schema to be empty (<code class="highlighter-rouge">undefined</code>).</p>
<ul>
  <li><code class="highlighter-rouge">schema</code> - any object or joi schema to match. An undefined schema unsets that rule.</li>
</ul>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">empty</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span> <span class="c1">// returns { error: null, value: undefined }</span>
<span class="nx">schema</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">empty</span><span class="p">();</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span> <span class="c1">// returns { error: "value" is not allowed to be empty, value: '' }</span>
</code></pre>
</div>

<h3 id="array"><code class="highlighter-rouge">array</code></h3>

<p>Generates a schema object that matches an array data type. Note that undefined values inside arrays are not allowed by default but can be by using <code class="highlighter-rouge">sparse()</code>.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">));</span>
<span class="nx">array</span><span class="p">.</span><span class="nx">validate</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="arraysparseenabled"><code class="highlighter-rouge">array.sparse(enabled)</code></h4>

<p>Allow this array to be sparse. <code class="highlighter-rouge">enabled</code> can be used with a falsy value to go back to the default behavior.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">sparse</span><span class="p">();</span> <span class="c1">// undefined values are now allowed</span>
<span class="nx">schema</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">sparse</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span> <span class="c1">// undefined values are now denied</span>
</code></pre>
</div>

<h4 id="arraysingleenabled"><code class="highlighter-rouge">array.single(enabled)</code></h4>

<p>Allow single values to be checked against rules as if it were provided as an array.</p>

<p><code class="highlighter-rouge">enabled</code> can be used with a falsy value to go back to the default behavior.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()).</span><span class="nx">single</span><span class="p">();</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">([</span><span class="mi">4</span><span class="p">]);</span> <span class="c1">// returns `{ error: null, value: [ 4 ] }`</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="c1">// returns `{ error: null, value: [ 4 ] }`</span>
</code></pre>
</div>

<h4 id="arrayitemstype"><code class="highlighter-rouge">array.items(type)</code></h4>

<p>List the types allowed for the array values where:</p>
<ul>
  <li><code class="highlighter-rouge">type</code> - a <strong>joi</strong> schema object to validate each array item against. <code class="highlighter-rouge">type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>
</ul>

<p>If a given type is <code class="highlighter-rouge">.required()</code> then there must be a matching item in the array.
If a type is <code class="highlighter-rouge">.forbidden()</code> then it cannot appear in the array.
Required items can be added multiple times to signify that multiple items must be found.
Errors will contain the number of items that didn’t match. Any unmatched item having a <a href="#anylabelname">label</a> will be mentioned explicitly.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">());</span> <span class="c1">// array may contain strings and numbers</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">());</span> <span class="c1">// array must contain at least two strings</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'not allowed'</span><span class="p">).</span><span class="nx">forbidden</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">());</span> <span class="c1">// array may contain strings, but none of those strings can match 'not allowed'</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">label</span><span class="p">(</span><span class="s1">'My string'</span><span class="p">).</span><span class="nx">required</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">());</span> <span class="c1">// If this fails it can result in `[ValidationError: "value" does not contain [My string] and 1 other required value(s)]`</span>
</code></pre>
</div>

<h4 id="arrayorderedtype"><code class="highlighter-rouge">array.ordered(type)</code></h4>

<p>List the types in sequence order for the array values where:</p>
<ul>
  <li><code class="highlighter-rouge">type</code> - a <strong>joi</strong> schema object to validate against each array item in sequence order. <code class="highlighter-rouge">type</code> can be an array of values, or multiple values can be passed as individual arguments.</li>
</ul>

<p>If a given type is <code class="highlighter-rouge">.required()</code> then there must be a matching item with the same index position in the array.
Errors will contain the number of items that didn’t match. Any unmatched item having a <a href="#anylabelname">label</a> will be mentioned explicitly.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">ordered</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">());</span> <span class="c1">// array must have first item as string and second item as number</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">ordered</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">()).</span><span class="nx">items</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">());</span> <span class="c1">// array must have first item as string and 1 or more subsequent items as number</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">ordered</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">());</span> <span class="c1">// array must have first item as string and optionally second item as number</span>
</code></pre>
</div>

<h4 id="arrayminlimit"><code class="highlighter-rouge">array.min(limit)</code></h4>

<p>Specifies the minimum number of items in the array where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the lowest number of array items allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="arraymaxlimit"><code class="highlighter-rouge">array.max(limit)</code></h4>

<p>Specifies the maximum number of items in the array where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the highest number of array items allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="arraylengthlimit"><code class="highlighter-rouge">array.length(limit)</code></h4>

<p>Specifies the exact number of items in the array where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the number of array items allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">length</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="arrayunique"><code class="highlighter-rouge">array.unique()</code></h4>

<p>Requires the array values to be unique.</p>

<p>Be aware that a deep equality is performed on elements of the array having a type of <code class="highlighter-rouge">object</code>, a performance penalty is to be expected for this kind of operation.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">array</span><span class="p">().</span><span class="nx">unique</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="boolean"><code class="highlighter-rouge">boolean</code></h3>

<p>Generates a schema object that matches a boolean data type (as well as the strings ‘true’, ‘false’, ‘yes’, ‘no’, ‘on’ or ‘off’). Can also be called via <code class="highlighter-rouge">bool()</code>.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">();</span>
<span class="kr">boolean</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h3 id="binary"><code class="highlighter-rouge">binary</code></h3>

<p>Generates a schema object that matches a Buffer data type (as well as the strings which will be converted to Buffers).</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">binary</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="binaryencodingencoding"><code class="highlighter-rouge">binary.encoding(encoding)</code></h4>

<p>Sets the string encoding format if a string input is converted to a buffer where:</p>
<ul>
  <li><code class="highlighter-rouge">encoding</code> - the encoding scheme.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">binary</span><span class="p">().</span><span class="nx">encoding</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="binaryminlimit"><code class="highlighter-rouge">binary.min(limit)</code></h4>

<p>Specifies the minimum length of the buffer where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the lowest size of the buffer.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">binary</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="binarymaxlimit"><code class="highlighter-rouge">binary.max(limit)</code></h4>

<p>Specifies the maximum length of the buffer where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the highest size of the buffer.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">binary</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="binarylengthlimit"><code class="highlighter-rouge">binary.length(limit)</code></h4>

<p>Specifies the exact length of the buffer:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the size of buffer allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">binary</span><span class="p">().</span><span class="nx">length</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="date"><code class="highlighter-rouge">date</code></h3>

<p>Generates a schema object that matches a date type (as well as a JavaScript date string or number of milliseconds).</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">();</span>
<span class="nx">date</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">'12-21-2012'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="datemindate"><code class="highlighter-rouge">date.min(date)</code></h4>

<p>Specifies the oldest date allowed where:</p>
<ul>
  <li><code class="highlighter-rouge">date</code> - the oldest date allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="s1">'1-1-1974'</span><span class="p">);</span>
</code></pre>
</div>

<p>Notes: <code class="highlighter-rouge">'now'</code> can be passed in lieu of <code class="highlighter-rouge">date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="s1">'now'</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">from</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">to</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'from'</span><span class="p">)).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="datemaxdate"><code class="highlighter-rouge">date.max(date)</code></h4>

<p>Specifies the latest date allowed where:</p>
<ul>
  <li><code class="highlighter-rouge">date</code> - the latest date allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="s1">'12-31-2020'</span><span class="p">);</span>
</code></pre>
</div>

<p>Notes: <code class="highlighter-rouge">'now'</code> can be passed in lieu of <code class="highlighter-rouge">date</code> so as to always compare relatively to the current date, allowing to explicitly ensure a date is either in the past or in the future.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="s1">'now'</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">from</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'to'</span><span class="p">)).</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">to</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="dateformatformat"><code class="highlighter-rouge">date.format(format)</code></h4>

<p>Specifies the allowed date format:</p>
<ul>
  <li><code class="highlighter-rouge">format</code> - string or array of strings that follow the <code class="highlighter-rouge">moment.js</code> <a href="http://momentjs.com/docs/#/parsing/string-format/">format</a>.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY/MM/DD'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="dateiso"><code class="highlighter-rouge">date.iso()</code></h4>

<p>Requires the string value to be in valid ISO 8601 date format.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">date</span><span class="p">().</span><span class="nx">iso</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="func"><code class="highlighter-rouge">func</code></h3>

<p>Generates a schema object that matches a function type.</p>

<p>Supports the same methods of the <a href="#object"><code class="highlighter-rouge">object()</code></a> type. Note that validating a function keys will cause the function
to be cloned. While the function will retain its prototype and closure, it will lose its <code class="highlighter-rouge">length</code> property value (will be
set to <code class="highlighter-rouge">0</code>).</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">func</span><span class="p">();</span>
<span class="nx">func</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h3 id="number"><code class="highlighter-rouge">number</code></h3>

<p>Generates a schema object that matches a number data type (as well as strings that can be converted to numbers).</p>

<p><code class="highlighter-rouge">Infinity</code> and <code class="highlighter-rouge">-Infinity</code> are invalid by default, you can change that behavior by calling <code class="highlighter-rouge">allow(Infinity, -Infinity)</code>.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">();</span>
<span class="nx">number</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="numberminlimit"><code class="highlighter-rouge">number.min(limit)</code></h4>

<p>Specifies the minimum value where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the minimum value allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">min</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">max</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'min'</span><span class="p">)).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="numbermaxlimit"><code class="highlighter-rouge">number.max(limit)</code></h4>

<p>Specifies the maximum value where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the maximum value allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">min</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'max'</span><span class="p">)).</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">max</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="numbergreaterlimit"><code class="highlighter-rouge">number.greater(limit)</code></h4>

<p>Specifies that the value must be greater than <code class="highlighter-rouge">limit</code>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">greater</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre>
</div>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">min</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">max</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">greater</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'min'</span><span class="p">)).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="numberlesslimit"><code class="highlighter-rouge">number.less(limit)</code></h4>

<p>Specifies that the value must be less than <code class="highlighter-rouge">limit</code>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">less</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">min</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">less</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'max'</span><span class="p">)).</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">max</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="numberinteger"><code class="highlighter-rouge">number.integer()</code></h4>

<p>Requires the number to be an integer (no floating point).</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">integer</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="numberprecisionlimit"><code class="highlighter-rouge">number.precision(limit)</code></h4>

<p>Specifies the maximum number of decimal places where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the maximum number of decimal places allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="numbermultiplebase"><code class="highlighter-rouge">number.multiple(base)</code></h4>

<p>Specifies that the value must be a multiple of <code class="highlighter-rouge">base</code>:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="numberpositive"><code class="highlighter-rouge">number.positive()</code></h4>

<p>Requires the number to be positive.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">positive</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="numbernegative"><code class="highlighter-rouge">number.negative()</code></h4>

<p>Requires the number to be negative.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">negative</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="object"><code class="highlighter-rouge">object</code></h3>

<p>Generates a schema object that matches an object data type (as well as JSON strings that parsed into objects). Defaults
to allowing any child key.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nx">integer</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="s1">'some string'</span>
<span class="p">});</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="objectkeysschema"><code class="highlighter-rouge">object.keys([schema])</code></h4>

<p>Sets or extends the allowed object keys where:</p>
<ul>
  <li><code class="highlighter-rouge">schema</code> - optional object where each key is assigned a <strong>joi</strong> type object. If <code class="highlighter-rouge">schema</code> is <code class="highlighter-rouge"><span class="p">{}</span></code> no keys allowed.
If <code class="highlighter-rouge">schema</code> is <code class="highlighter-rouge">null</code> or <code class="highlighter-rouge">undefined</code>, any key allowed. If <code class="highlighter-rouge">schema</code> is an object with keys, the keys are added to any
previously defined keys (but narrows the selection if all keys previously allowed). Defaults to ‘undefined’ which
allows any child key.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">base</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">()</span>
<span class="p">});</span>
<span class="c1">// Validate keys a, b and c.</span>
<span class="kd">var</span> <span class="nx">extended</span> <span class="o">=</span> <span class="nx">base</span><span class="p">.</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<p>Notes: We have three different ways to define a schema for performing a validation</p>

<ul>
  <li>Using the plain JS object notation:
    <div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
  <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
    </div>
  </li>
  <li>Using the <code class="highlighter-rouge">Joi.object([schema])</code> notation
    <div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
  <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
    </div>
  </li>
  <li>Using the <code class="highlighter-rouge">Joi.object().keys([schema])</code> notation
    <div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
  <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
  <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
    </div>
  </li>
</ul>

<p>While all these three objects defined above will result in the same validation object, there are some differences in using one or another:</p>

<h5 id="-notation"><code class="highlighter-rouge"><span class="p">{}</span><span class="w"> </span><span class="err">notation</span></code></h5>

<p>When using the <code class="highlighter-rouge"><span class="p">{}</span></code> notation, you are just defining a plain JS object, which isn’t a schema object.
You can pass it to the validation method but you can’t call <code class="highlighter-rouge">validate()</code> method of the object because it’s just a plain JS object.</p>

<p>Besides, passing the <code class="highlighter-rouge"><span class="p">{}</span></code> object to the <code class="highlighter-rouge">validate()</code> method each time, will perform an expensive schema compilation operation on every validation.</p>

<h5 id="joiobjectschema-notation"><code class="highlighter-rouge">Joi.object([schema]) notation</code></h5>

<p>Using <code class="highlighter-rouge">Joi.object([schema])</code> will return a schema object, so you can call the <code class="highlighter-rouge">validate()</code> method directly, e.g:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">()</span>
<span class="p">});</span>

<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'err: '</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>

<p>When you use <code class="highlighter-rouge">Joi.object([schema])</code>, it gets compiled the first time, so you can pass it to the <code class="highlighter-rouge">validate()</code> method multiple times and no overhead is added.</p>

<p>Another benefits of using <code class="highlighter-rouge">Joi.object([schema])</code> instead of a plain JS object is that you can set any options on the object like allowing unknown keys, e.g:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
    <span class="na">arg</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'firstname'</span><span class="p">,</span> <span class="s1">'lastname'</span><span class="p">,</span> <span class="s1">'title'</span><span class="p">,</span> <span class="s1">'company'</span><span class="p">,</span> <span class="s1">'jobtitle'</span><span class="p">),</span>
    <span class="na">value</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
<span class="p">}).</span><span class="nx">pattern</span><span class="p">(</span><span class="sr">/firstname|lastname/</span><span class="p">,</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
</code></pre>
</div>

<h5 id="joiobjectkeysschema-notation"><code class="highlighter-rouge">Joi.object().keys([schema]) notation</code></h5>

<p>This is basically the same as <code class="highlighter-rouge">Joi.object([schema])</code>, but using <code class="highlighter-rouge">Joi.object().keys([schema])</code> is more useful when you want to add more keys (e.g. call <code class="highlighter-rouge">keys()</code> multiple times). If you are only adding one set of keys, you can skip the <code class="highlighter-rouge">keys()</code> method and just use <code class="highlighter-rouge">object()</code> directly.</p>

<p>Some people like to use <code class="highlighter-rouge">keys()</code> to make the code more explicit (this is style only).</p>

<h4 id="objectminlimit"><code class="highlighter-rouge">object.min(limit)</code></h4>

<p>Specifies the minimum number of keys in the object where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the lowest number of keys allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectmaxlimit"><code class="highlighter-rouge">object.max(limit)</code></h4>

<p>Specifies the maximum number of keys in the object where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the highest number of object keys allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectlengthlimit"><code class="highlighter-rouge">object.length(limit)</code></h4>

<p>Specifies the exact number of keys in the object where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the number of object keys allowed.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">length</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectpatternregex-schema"><code class="highlighter-rouge">object.pattern(regex, schema)</code></h4>

<p>Specify validation rules for unknown keys matching a pattern where:</p>
<ul>
  <li><code class="highlighter-rouge">regex</code> - a regular expression tested against the unknown key names.</li>
  <li><code class="highlighter-rouge">schema</code> - the schema object matching keys much validate against.</li>
</ul>

<pre><code class="language-javascrip">var schema = Joi.object({
    a: Joi.string()
}).pattern(/\w\d/, Joi.boolean());
</code></pre>

<h4 id="objectandpeers"><code class="highlighter-rouge">object.and(peers)</code></h4>

<p>Defines an all-or-nothing relationship between keys where if one of the peers is present, all of them are required as
well where:</p>
<ul>
  <li><code class="highlighter-rouge">peers</code> - the key names of which if one present, all are required. <code class="highlighter-rouge">peers</code> can be a single string value, an
array of string values, or each peer provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">and</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectnandpeers"><code class="highlighter-rouge">object.nand(peers)</code></h4>

<p>Defines a relationship between keys where not all peers can be present at the
same time where:</p>
<ul>
  <li><code class="highlighter-rouge">peers</code> - the key names of which if one present, the others may not all be present. <code class="highlighter-rouge">peers</code> can be a single string value, an
array of string values, or each peer provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">nand</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectorpeers"><code class="highlighter-rouge">object.or(peers)</code></h4>

<p>Defines a relationship between keys where one of the peers is required (and more than one is allowed) where:</p>
<ul>
  <li><code class="highlighter-rouge">peers</code> - the key names of which at least one must appear. <code class="highlighter-rouge">peers</code> can be a single string value, an
array of string values, or each peer provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">or</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectxorpeers"><code class="highlighter-rouge">object.xor(peers)</code></h4>

<p>Defines an exclusive relationship between a set of keys where one of them is required but not at the same time where:</p>
<ul>
  <li><code class="highlighter-rouge">peers</code> - the exclusive key names that must not appear together but where one of them is required. <code class="highlighter-rouge">peers</code> can be a single string value, an
array of string values, or each peer provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">xor</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectwithkey-peers"><code class="highlighter-rouge">object.with(key, peers)</code></h4>

<p>Requires the presence of other keys whenever the specified key is present where:</p>
<ul>
  <li><code class="highlighter-rouge">key</code> - the reference key.</li>
  <li><code class="highlighter-rouge">peers</code> - the required peer key names that must appear together with <code class="highlighter-rouge">key</code>. <code class="highlighter-rouge">peers</code> can be a single string value or an array of string values.</li>
</ul>

<p>Note that unlike <a href="#objectandpeers"><code class="highlighter-rouge">object.and()</code></a>, <code class="highlighter-rouge">with()</code> creates a dependency only between the <code class="highlighter-rouge">key</code> and each of the <code class="highlighter-rouge">peers</code>, not
between the <code class="highlighter-rouge">peers</code> themselves.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="kd">with</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectwithoutkey-peers"><code class="highlighter-rouge">object.without(key, peers)</code></h4>

<p>Forbids the presence of other keys whenever the specified is present where:</p>
<ul>
  <li><code class="highlighter-rouge">key</code> - the reference key.</li>
  <li><code class="highlighter-rouge">peers</code> - the forbidden peer key names that must not appear together with <code class="highlighter-rouge">key</code>. <code class="highlighter-rouge">peers</code> can be a single string value or an array of string values.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">(),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">without</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'b'</span><span class="p">]);</span>
</code></pre>
</div>

<h4 id="objectrenamefrom-to-options"><code class="highlighter-rouge">object.rename(from, to, [options])</code></h4>

<p>Renames a key to another name (deletes the renamed key) where:</p>
<ul>
  <li><code class="highlighter-rouge">from</code> - the original key name.</li>
  <li><code class="highlighter-rouge">to</code> - the new key name.</li>
  <li><code class="highlighter-rouge">options</code> - an optional object with the following optional keys:
    <ul>
      <li><code class="highlighter-rouge">alias</code> - if <code class="highlighter-rouge">true</code>, does not delete the old key name, keeping both the new and old keys in place. Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">multiple</code> - if <code class="highlighter-rouge">true</code>, allows renaming multiple keys to the same destination where the last rename wins. Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">override</code> - if <code class="highlighter-rouge">true</code>, allows renaming a key over an existing key. Defaults to <code class="highlighter-rouge">false</code>.</li>
      <li><code class="highlighter-rouge">ignoreUndefined</code> - if <code class="highlighter-rouge">true</code>, skip renaming of a key if it’s undefined. Defaults to <code class="highlighter-rouge">false</code>.</li>
    </ul>
  </li>
</ul>

<p>Keys are renamed before any other validation rules are applied.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
<span class="p">}).</span><span class="nx">rename</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">);</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="na">b</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="objectassertref-schema-message"><code class="highlighter-rouge">object.assert(ref, schema, [message])</code></h4>

<p>Verifies an assertion where:</p>
<ul>
  <li><code class="highlighter-rouge">ref</code> - the key name or <a href="#refkey-options">reference</a>.</li>
  <li><code class="highlighter-rouge">schema</code> - the validation rules required to satisfy the assertion. If the <code class="highlighter-rouge">schema</code> includes references, they are resolved against
the object value, not the value of the <code class="highlighter-rouge">ref</code> target.</li>
  <li><code class="highlighter-rouge">message</code> - optional human-readable message used when the assertion fails. Defaults to ‘failed to pass the assertion test’.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span>
        <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="na">d</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">e</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">assert</span><span class="p">(</span><span class="s1">'d.e'</span><span class="p">,</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'a.c'</span><span class="p">),</span> <span class="s1">'equal to a.c'</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectunknownallow"><code class="highlighter-rouge">object.unknown([allow])</code></h4>

<p>Overrides the handling of unknown keys for the scope of the current object only (does not apply to children) where:</p>
<ul>
  <li><code class="highlighter-rouge">allow</code> - if <code class="highlighter-rouge">false</code>, unknown keys are not allowed, otherwise unknown keys are ignored.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span> <span class="p">}).</span><span class="nx">unknown</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="objecttypeconstructor-name"><code class="highlighter-rouge">object.type(constructor, [name])</code></h4>

<p>Requires the object to be an instance of a given constructor where:</p>
<ul>
  <li><code class="highlighter-rouge">constructor</code> - the constructor function that the object must be an instance of.</li>
  <li><code class="highlighter-rouge">name</code> - an alternate name to use in validation errors. This is useful when the constructor function does not have a name.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">type</span><span class="p">(</span><span class="nb">RegExp</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="objectrequiredkeyschildren"><code class="highlighter-rouge">object.requiredKeys(children)</code></h4>

<p>Sets the specified children to required.</p>
<ul>
  <li><code class="highlighter-rouge">children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span> <span class="p">},</span> <span class="na">c</span><span class="p">:</span> <span class="p">{</span> <span class="na">d</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">()</span> <span class="p">}</span> <span class="p">});</span>
<span class="kd">var</span> <span class="nx">requiredSchema</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">requiredKeys</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="s1">'a.b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'c.d'</span><span class="p">);</span>
</code></pre>
</div>

<p>Note that in this example <code class="highlighter-rouge">''</code> means the current object, <code class="highlighter-rouge">a</code> is not required but <code class="highlighter-rouge">b</code> is, as well as <code class="highlighter-rouge">c</code> and <code class="highlighter-rouge">d</code>.</p>

<h4 id="objectoptionalkeyschildren"><code class="highlighter-rouge">object.optionalKeys(children)</code></h4>

<p>Sets the specified children to optional.</p>
<ul>
  <li><code class="highlighter-rouge">children</code> - can be a single string value, an array of string values, or each child provided as an argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span> <span class="p">},</span> <span class="na">c</span><span class="p">:</span> <span class="p">{</span> <span class="na">d</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">()</span> <span class="p">}</span> <span class="p">});</span>
<span class="kd">var</span> <span class="nx">requiredSchema</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">optionalKeys</span><span class="p">(</span><span class="s1">'a.b'</span><span class="p">,</span> <span class="s1">'c.d'</span><span class="p">);</span>
</code></pre>
</div>

<p>The behavior is exactly the same as <code class="highlighter-rouge">requiredKeys</code>.</p>

<h3 id="string"><code class="highlighter-rouge">string</code></h3>

<p>Generates a schema object that matches a string data type. Note that empty strings are not allowed by default and must be enabled with <code class="highlighter-rouge">allow('')</code>.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="stringinsensitive"><code class="highlighter-rouge">string.insensitive()</code></h4>

<p>Allows the value to match any whitelist of blacklist item in a case insensitive comparison.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">valid</span><span class="p">(</span><span class="s1">'a'</span><span class="p">).</span><span class="nx">insensitive</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringminlimit-encoding"><code class="highlighter-rouge">string.min(limit, [encoding])</code></h4>

<p>Specifies the minimum number string characters where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the minimum number of string characters required.</li>
  <li><code class="highlighter-rouge">encoding</code> - is specified, the string length is calculated in bytes using the provided encoding.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">min</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">value</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'min'</span><span class="p">),</span> <span class="s1">'utf8'</span><span class="p">).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="stringmaxlimit-encoding"><code class="highlighter-rouge">string.max(limit, [encoding])</code></h4>

<p>Specifies the maximum number of string characters where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the maximum number of string characters allowed.</li>
  <li><code class="highlighter-rouge">encoding</code> - is specified, the string length is calculated in bytes using the provided encoding.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">max</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">value</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'max'</span><span class="p">),</span> <span class="s1">'utf8'</span><span class="p">).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="stringcreditcard"><code class="highlighter-rouge">string.creditCard()</code></h4>

<p>Requires the number to be a credit card number (Using <a href="http://en.wikipedia.org/wiki/Luhn_algorithm">Lunh
Algorithm</a>).</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">creditCard</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringlengthlimit-encoding"><code class="highlighter-rouge">string.length(limit, [encoding])</code></h4>

<p>Specifies the exact string length required where:</p>
<ul>
  <li><code class="highlighter-rouge">limit</code> - the required string length.</li>
  <li><code class="highlighter-rouge">encoding</code> - is specified, the string length is calculated in bytes using the provided encoding.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">length</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre>
</div>

<p>It can also be a reference to another field.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">length</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">required</span><span class="p">(),</span>
  <span class="na">value</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">length</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'length'</span><span class="p">),</span> <span class="s1">'utf8'</span><span class="p">).</span><span class="nx">required</span><span class="p">()</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="stringregexpattern-name"><code class="highlighter-rouge">string.regex(pattern, [name])</code></h4>

<p>Defines a regular expression rule where:</p>
<ul>
  <li><code class="highlighter-rouge">pattern</code> - a regular expression object the string value must match against.</li>
  <li><code class="highlighter-rouge">name</code> - optional name for patterns (useful with multiple patterns). Defaults to ‘required’.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^</span><span class="se">[</span><span class="sr">abc</span><span class="se">]</span><span class="sr">+$/</span><span class="p">);</span>
</code></pre>
</div>

<h4 id="stringreplacepattern-replacement"><code class="highlighter-rouge">string.replace(pattern, replacement)</code></h4>

<p>Replace characters matching the given <em>pattern</em> with the specified
<em>replacement</em> string where:</p>
<ul>
  <li><code class="highlighter-rouge">pattern</code> - a regular expression object to match against, or a string of which <em>all</em> occurrences will be replaced.</li>
  <li><code class="highlighter-rouge">replacement</code> - the string that will replace the pattern.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/b/gi</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">);</span>
<span class="nx">schema</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">'abBc'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// here value will be 'axxc'</span>
<span class="p">});</span>
</code></pre>
</div>

<p>When <code class="highlighter-rouge">pattern</code> is a <em>string</em> all its occurrences will be replaced.</p>

<h4 id="stringalphanum"><code class="highlighter-rouge">string.alphanum()</code></h4>

<p>Requires the string value to only contain a-z, A-Z, and 0-9.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">alphanum</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringtoken"><code class="highlighter-rouge">string.token()</code></h4>

<p>Requires the string value to only contain a-z, A-Z, 0-9, and underscore _.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">token</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringemailoptions"><code class="highlighter-rouge">string.email([options])</code></h4>

<p>Requires the string value to be a valid email address.</p>

<ul>
  <li><code class="highlighter-rouge">options</code> - optional settings:
    <ul>
      <li><code class="highlighter-rouge">errorLevel</code> - Numerical threshold at which an email address is considered invalid.</li>
      <li><code class="highlighter-rouge">tldWhitelist</code> - Specifies a list of acceptable TLDs.</li>
      <li><code class="highlighter-rouge">minDomainAtoms</code> - Number of atoms required for the domain. Be careful since some domains, such as <code class="highlighter-rouge">io</code>, directly allow email.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">email</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringipoptions"><code class="highlighter-rouge">string.ip([options])</code></h4>

<p>Requires the string value to be a valid ip address.</p>

<ul>
  <li><code class="highlighter-rouge">options</code> - optional settings:
    <ul>
      <li><code class="highlighter-rouge">version</code> - One or more IP address versions to validate against. Valid values: <code class="highlighter-rouge">ipv4</code>, <code class="highlighter-rouge">ipv6</code>, <code class="highlighter-rouge">ipvfuture</code></li>
      <li><code class="highlighter-rouge">cidr</code> - Used to determine if a CIDR is allowed or not. Valid values: <code class="highlighter-rouge">optional</code>, <code class="highlighter-rouge">required</code>, <code class="highlighter-rouge">forbidden</code></li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">// Accept only ipv4 and ipv6 addresses with a CIDR</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">ip</span><span class="p">({</span>
  <span class="na">version</span><span class="p">:</span> <span class="p">[</span>
    <span class="s1">'ipv4'</span><span class="p">,</span>
    <span class="s1">'ipv6'</span>
  <span class="p">],</span>
  <span class="na">cidr</span><span class="p">:</span> <span class="s1">'required'</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="stringurioptions"><code class="highlighter-rouge">string.uri([options])</code></h4>

<p>Requires the string value to be a valid <a href="http://tools.ietf.org/html/rfc3986">RFC 3986</a> URI.</p>

<ul>
  <li><code class="highlighter-rouge">options</code> - optional settings:
    <ul>
      <li><code class="highlighter-rouge">scheme</code> - Specifies one or more acceptable Schemes, should only include the scheme name. Can be an Array or String (strings are automatically escaped for use in a Regular Expression).</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">// Accept git or git http/https</span>
<span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">uri</span><span class="p">({</span>
  <span class="na">scheme</span><span class="p">:</span> <span class="p">[</span>
    <span class="s1">'git'</span><span class="p">,</span>
    <span class="sr">/git</span><span class="se">\+</span><span class="sr">https</span><span class="se">?</span><span class="sr">/</span>
  <span class="p">]</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="stringguid"><code class="highlighter-rouge">string.guid()</code></h4>

<p>Requires the string value to be a valid GUID.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">guid</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringhex"><code class="highlighter-rouge">string.hex()</code></h4>

<p>Requires the string value to be a valid hexadecimal string.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">hex</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringhostname"><code class="highlighter-rouge">string.hostname()</code></h4>

<p>Requires the string value to be a valid hostname as per <a href="http://tools.ietf.org/html/rfc1123">RFC1123</a>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">hostname</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringlowercase"><code class="highlighter-rouge">string.lowercase()</code></h4>

<p>Requires the string value to be all lowercase. If the validation <code class="highlighter-rouge">convert</code> option is on (enabled by default), the string
will be forced to lowercase.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">lowercase</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringuppercase"><code class="highlighter-rouge">string.uppercase()</code></h4>

<p>Requires the string value to be all uppercase. If the validation <code class="highlighter-rouge">convert</code> option is on (enabled by default), the string
will be forced to uppercase.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">uppercase</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringtrim"><code class="highlighter-rouge">string.trim()</code></h4>

<p>Requires the string value to contain no whitespace before or after. If the validation <code class="highlighter-rouge">convert</code> option is on (enabled by
default), the string will be trimmed.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">trim</span><span class="p">();</span>
</code></pre>
</div>

<h4 id="stringisodate"><code class="highlighter-rouge">string.isoDate()</code></h4>

<p>Requires the string value to be in valid ISO 8601 date format.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">isoDate</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="alternatives"><code class="highlighter-rouge">alternatives</code></h3>

<p>Generates a type that will match one of the provided alternative schemas via the <a href="#alternativestryschemas"><code class="highlighter-rouge">try()</code></a>
method. If no schemas are added, the type will not match any value except for <code class="highlighter-rouge">undefined</code>.</p>

<p>Supports the same methods of the <a href="#any"><code class="highlighter-rouge">any()</code></a> type.</p>

<p>Alternatives can be expressed using the shorter <code class="highlighter-rouge">[]</code> notation.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">alt</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="k">try</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">());</span>
<span class="c1">// Same as [Joi.number(), Joi.string()]</span>
</code></pre>
</div>

<h4 id="alternativestryschemas"><code class="highlighter-rouge">alternatives.try(schemas)</code></h4>

<p>Adds an alternative schema type for attempting to match against the validated value where:</p>
<ul>
  <li><code class="highlighter-rouge">schema</code> - an array of alternative <strong>joi</strong> types. Also supports providing each type as a separate argument.</li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">alt</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="k">try</span><span class="p">(</span><span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">(),</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">());</span>
<span class="nx">alt</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
</code></pre>
</div>

<h4 id="alternativeswhenref-options"><code class="highlighter-rouge">alternatives.when(ref, options)</code></h4>

<p>Adds a conditional alternative schema type based on another key (not the same as <code class="highlighter-rouge">any.when()</code>) value where:</p>
<ul>
  <li><code class="highlighter-rouge">ref</code> - the key name or <a href="#refkey-options">reference</a>.</li>
  <li><code class="highlighter-rouge">options</code> - an object with:
    <ul>
      <li><code class="highlighter-rouge">is</code> - the required condition <strong>joi</strong> type.</li>
      <li><code class="highlighter-rouge">then</code> - the alternative schema type to <strong>try</strong> if the condition is true. Required if <code class="highlighter-rouge">otherwise</code> is missing.</li>
      <li><code class="highlighter-rouge">otherwise</code> - the alternative schema type to <strong>try</strong> if the condition is false. Required if <code class="highlighter-rouge">then</code> is missing.</li>
    </ul>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="nx">when</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">is</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="na">then</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">string</span><span class="p">(),</span> <span class="na">otherwise</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">number</span><span class="p">()</span> <span class="p">}),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<p>Note that <code class="highlighter-rouge">when()</code> only adds additional alternatives to try and does not impact the overall type. Setting
a <code class="highlighter-rouge">required()</code> rule on a single alternative will not apply to the overall key. For example,
this definition of <code class="highlighter-rouge">a</code>:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">alternatives</span><span class="p">().</span><span class="nx">when</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">is</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">then</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">required</span><span class="p">()</span> <span class="p">}),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<p>Does not turn <code class="highlighter-rouge">a</code> into a required key when <code class="highlighter-rouge">b</code> is <code class="highlighter-rouge">true</code>. Instead, it tells the validator to try and match the
value to anything that’s not <code class="highlighter-rouge">undefined</code>. However, since <code class="highlighter-rouge">Joi.alternatives()</code> by itself allows <code class="highlighter-rouge">undefined</code>, the rule
does not accomplish turning <code class="highlighter-rouge">a</code> to a required value. This rule is the same as <code class="highlighter-rouge">Joi.alternatives([Joi.required()])</code>
when <code class="highlighter-rouge">b</code> is <code class="highlighter-rouge">true</code> which will allow any value including <code class="highlighter-rouge">undefined</code>.</p>

<p>To accomplish the desired result above use:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">'b'</span><span class="p">,</span> <span class="p">{</span> <span class="na">is</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">then</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">required</span><span class="p">()</span> <span class="p">}),</span>
    <span class="na">b</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="kr">boolean</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>
</div>

<h3 id="refkey-options"><code class="highlighter-rouge">ref(key, [options])</code></h3>

<p>Generates a reference to the value of the named key. References are resolved at validation time and in order of dependency
so that if one key validation depends on another, the dependent key is validated second after the reference is validated.
References support the following arguments:</p>
<ul>
  <li><code class="highlighter-rouge">key</code> - the reference target. References cannot point up the object tree, only to sibling keys, but they can point to
their siblings’ children (e.g. ‘a.b.c’) using the <code class="highlighter-rouge">.</code> separator. If a <code class="highlighter-rouge">key</code> starts with <code class="highlighter-rouge">$</code> is signifies a context reference
which is looked up in the <code class="highlighter-rouge">context</code> option object.</li>
  <li><code class="highlighter-rouge">options</code> - optional settings:
    <ul>
      <li><code class="highlighter-rouge">separator</code> - overrides the default <code class="highlighter-rouge">.</code> hierarchy separator.</li>
      <li><code class="highlighter-rouge">contextPrefix</code> - overrides the default <code class="highlighter-rouge">$</code> context prefix signifier.</li>
    </ul>
  </li>
</ul>

<p>Note that references can only be used where explicitly supported such as in <code class="highlighter-rouge">valid()</code> or <code class="highlighter-rouge">invalid()</code> rules. If upwards
(parents) references are needed, use <a href="#objectassertref-schema-message"><code class="highlighter-rouge">object.assert()</code></a>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">object</span><span class="p">().</span><span class="nx">keys</span><span class="p">({</span>
    <span class="na">a</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'b.c'</span><span class="p">),</span>
    <span class="na">b</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">any</span><span class="p">()</span>
    <span class="p">},</span>
    <span class="na">c</span><span class="p">:</span> <span class="nx">Joi</span><span class="p">.</span><span class="nx">ref</span><span class="p">(</span><span class="s1">'$x'</span><span class="p">)</span>
<span class="p">});</span>

<span class="nx">Joi</span><span class="p">.</span><span class="nx">validate</span><span class="p">({</span> <span class="na">a</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="na">b</span><span class="p">:</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">},</span> <span class="nx">schema</span><span class="p">,</span> <span class="p">{</span> <span class="na">context</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{});</span>
</code></pre>
</div>

<h2 id="errors">Errors</h2>

<p>Joi throws classical javascript <code class="highlighter-rouge">Error</code>s containing :</p>
<ul>
  <li><code class="highlighter-rouge">name</code> - <code class="highlighter-rouge">ValidationError</code>.</li>
  <li><code class="highlighter-rouge">details</code> - an array of errors :
    <ul>
      <li><code class="highlighter-rouge">message</code> - string with a description of the error.</li>
      <li><code class="highlighter-rouge">path</code> - dotted path to the key where the error happened.</li>
      <li><code class="highlighter-rouge">type</code> - type of the error.</li>
      <li><code class="highlighter-rouge">context</code> - object providing context of the error.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">annotate</code> - function that returns a string with an annotated version of the object pointing at the places where errors occured.</li>
  <li><code class="highlighter-rouge">_object</code> - the original object to validate.</li>
</ul>
